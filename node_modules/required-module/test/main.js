const $mod = require('../');

const {test} = $mod('ava');

test.serial('require', (t) => {
  t.plan(4);

  const mod1 = $mod('test');
  const mod2 = $mod('test2').module;
  const mod3 = $mod('/test/modules/mod3');
  const reqArr = $mod([
    '/test/modules/mod1',
    '/test/modules/mod2',
    '/test/modules/mod3'
  ]);

  t.is(mod1(), 'mod1');
  t.is(mod2(), 'mod2');
  t.is(mod3(), 'mod3');

  t.deepEqual(reqArr.map((fn) => fn()), ['mod1', 'mod2', 'mod3']);
});